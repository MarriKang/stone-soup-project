# Stone Stoup
Stone Soup is a crowdfunding web app created with Postgres, Sequelize, Typescript, Express, and React. Users can view projects, fund projects, and delete their own projects.

## Architecture
Stone Soup was created using an MVC design pattern. This pattern is comprised of three parts:
- M: The model. 
- V: The view.
- C: The view controller.

The view is self-explanatory - this is what the user is able to see. However, if a user wants to interact with this view, the MVC pattern ensures that the user does not directly change the data in the view. Instead, the controller handles the input and manipulates the data.

Separating the components in this manner aids in keeping data secure, organizes project structure, and aids in making reusable components.

## Installation
- 'npm install', then 'cd client npm install', then return to root by using 'cd ..'
- To create tables, use 'npm run server'.
- To seed tables, use 'npx sequelize-cli db:seed:all'
- Run app using 'npm run dev'
- If the app does not open automatically, run it on localhost:3000.

## Structure
The app is split into two main components: the backend server which contains Sequelize models and Express routes, and the front-end client. The 'run dev' script runs both concurrently so the front-end is able to proxy to the server.
![Server and client folders](https://imgur.com/PQhTQ7n.png)

Within the client folder, React components can be found in the components folder. Controllers are kept separate from views in their own folder for easy access.
![React components folder](https://imgur.com/mUUFW6d.png)

The backend models are comprised of Users, Projects, and Rewards.
Projects contain information that links them to their creators. They are related separately to investors through a User_Project table. This includes an additional value that keeps track of how much the user has contributed to the project.

In addition, Rewards are related to Projects through a one-to-many relationship. Users can contribute to Projects through the purchase of Rewards.
![Backend model tables](https://imgur.com/szmINVI.png)

## Views
The user begins on the Home Page and can navigate through the use of the nav bar. 

Projects can be found in the Explore view. Each individual project in the view is a reusable container component, and is rendered using the material-ui library. 
![Explore page containing all projects view](https://imgur.com/mttLKA1.png)

Clicking on one of the containers leads the user to the individual project page. The controller for the page receives the information for the page via an Express route containing the project's unique id. This id is used to find the model with the correct id, and the object information that is received gets passed through the Single Project View's props.
![Single project view](https://i.imgur.com/ENcGqbZ.png)

The single project contains basic information such as the title of the project, a description, the creator of the project, etc. A fact related to the project is generated by accessing an outside API.
![Single project view bottom half](https://imgur.com/2qpEQmg.png)

From here, the view will determine whether the user is the creator of the project or not. If they are, the user is given a Delete button to delete the project. Otherwise, they can choose to fund it and move to the checkout view.

The checkout view contains a list of reward available for purchase. The checkout button is disabled when no selections are made to prevent the user from checking out too fast.
![Checkout view when no selection is made](https://i.imgur.com/ae128ha.png)

Once a reward is selected, the checkout button will activate. Checking out will redirect the user to the checkout success page, and create a new relationship in the database through User_Project.
![Checkout view button now active after selection](https://i.imgur.com/L6s4cC6.png)
![New relationship created in database after checking out](https://imgur.com/iOobiRn.png)